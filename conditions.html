<style scoped>
	li {
		list-style-type:none;
	}
	li:hover {
		cursor: pointer;
		color: dodgerblue;
	}
	span {
		opacity: .6;
	}
</style>
<h1>Conditions</h1>
<ul/>
<hr>
<button onclick='Back()'>CANCEL</button>
<button onclick='nu()'>NEW</button>
<button onclick='removeAll()'>REMOVE ALL</button>
<button>IMPORT</button>
<button>EXPORT</button>


<script>
	function nu() {
		Idx = Cond.length;
		$('body').load('notes.html');
	}
	function removeAll() {
		LS.removeItem('conditions');
		Cond = [];
		Idx = 0;
		start();
		$(Main).find('td:nth-child(n+3),th:nth-child(n+3):nth-last-child(n+2)').remove();
		Back();
	}
	function update(e) {
		Idx = $(e).index();
		Back();
		setPump();
	}
	function start() {
		$.each(Cond,function(i,e) {		
			let th = Main.find('th').filter(function(j,el) {
		      return i == $(el).data('idx');
		    });debugger;
		    if (th.length == 0) {
				$('ul').append(`<li onclick="update(this)">${e.name}</li>`);
				
		    } else {
			    $('ul').append(`<span>${e.name}</span><br>`);		      	 	
		    }
		});		
		if (Cond.length==0) {
			$('ul').html('<em>None</em>');
		}		
	}
	start();

</script>