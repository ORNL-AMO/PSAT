<style scoped>
	li {
		list-style-type:none;
	}
	li:not([onclick]) {
		opacity: .6;
	}	
	li[onclick]:hover {
		cursor: pointer;
		color: dodgerblue;
	}	
	li:first-child {
		display: none;
	}
	li>* {
		vertical-align: middle;
	}
</style>
<h1>Conditions</h1>
<ul>
    <li onclick='update(this)'>        	
    	<button onclick='rm(this)'><i class="fa fa-times"/></button>  
    	<span></span>	
    </li>
</ul>
<hr>
<button onclick='nu()'>NEW</button>
<button>IMPORT</button>
<button>EXPORT</button>
<button onclick='removeAll()'>REMOVE ALL</button>
<button onclick='back()'>CANCEL</button>

<script>
	function nu() {
		Idx = Cond.length;
		$('#container').load('notes.html');
	}
	function removeAll() {
		LS.removeItem('conditions');
		Cond = [];
		Idx = 0;
		start();
		$(Main).find('td:nth-child(n+3),th:nth-child(n+3):nth-last-child(n+2)').remove();
		back();
	}
	function update(e) {
		Idx = $(e).index()-1;
		back();
		setPump();
	}
	function start() {
		$.each(Cond,function(i,e) {		
			let th = Main.find('th').filter(function(j,el) {
		      return i == $(el).data('idx');
		    });

			let nu = $('li').first().clone();
			nu.find('span').text(e.name);
			if (th.length>0) {
				nu.removeAttr('onclick');
			}
			$('ul').append(nu);		  
		});		
		if (Cond.length==0) {
			$('ul').html('<em>None</em>');
		}		
	}
	start();

</script>