
<style>
	canvas {
		background-color: black;
		margin-top: .25rem;	
		display:block;	
	}
	#plot,#calc_btn {
		display:none;
		margin-top:1rem
	}
	select,input {
		margin-bottom: .5rem;
	}
}
</style>
<div>
	<h1>Specific Speed</h1>
	<a style='display:block' onclick='lnk(event,"what_is_ss")' href=''>What Is Specific Speed?</a><br>
	<span>Pump Style</span><br>
	<select name='pump_style'>
        <option selected disabled>Choose</option>
		<option>End suction slurry</option>
        <option>End suction sewage</option>
        <option>End suction stock</option>
		<option>End suction submersible sewage</option>
        <option>API double suction</option>
        <option>Multistage boiler feed</option>
        <option>End suction ANSI/API</option>
        <option>Axial flow</option>
        <option>Double suction</option>
        <option>Vertical turbine</option>
        <option>Large end suction</option>
    </select><br>
	Flow<br>
	<input name='flow'><br>
	Head<br>
	<input name='head'><br>
	Pump Speed<br>
	<input name='pump_rated_speed'><br>
	<button id=calc_btn class=prime onclick='calc()'>CALCULATE</button>
	<div id=plot>
		<span style='margin-right:1rem'>Specific Speed: </span><span id=ss></span>
		<span>Efficiency Correction: </span><span></span>
		<canvas width="700" height="500"></canvas>
	</div>
</div>

<script>//# sourceURL=*pump_eff
	function plot() {
		P = {
			cnv: Cnv,
			padX: 25,
			stepX: 500,
			cntX: 20,
			padY: 50,
			stepY: 2,
			cntY: 14
		};
		const ctx = setupPlot(`Specific Speed`,'Efficiency Correction (%)');
						
		curve(x => 
			Bridge.achievableEfficiency(cvtArg(setData({
				specific_speed: x,
			}))));
	}
	function calc() {
		const ss = nm('pump_rated_speed').val() * Math.sqrt(nm('flow').val()) / Math.pow(nm('head').val(),.75);
		$('#ss').text(ss);
		Cnv.width+=0;
		plot();		
	}	 
	Cnv = dom('canvas');
	
	nmAll().change(()=>{
		$('#plot').hide();
		let d = setData({});debugger;
		if (d.pump_style>=0 && d.flow!='' && d.head!='' && d.pump_rated_speed!='') {
			$('#calc_btn').show();
		} else {
			$('#calc_btn').hide();
		}
	});

	
	
</script>

