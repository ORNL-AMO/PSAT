<style scoped=scoped>
	em {
		font-size: smaller;
		font-weight: lighter;
	}
	table input {
		margin-bottom: .75rem;
	}	
	.results {
		vertical-align: bottom;				
	}
	.results table {
		background-color: lightgray;
	}	
	.results td, .results th {
		padding-left: 1rem;
		text-align: left;
	}
	.result {
		color: green;
		font-weight: bold;
	}
}
</style>
<h1>Head Tool</h1>
<table style='width: 100%'>
	<tr>
		<td>
			Suction pipe diameter <em>(mm)</em><br>
			<input name=id_suc type=number/>
			<button onclick=showUnit(this,'#unit_mm')><i class="fa fa-calculator"/></button><br>
			Discharge pipe diameter <em>(mm)</em><br>
			<input type=number/>
			<button onclick=showUnit(this,'#unit_mm')><i class="fa fa-calculator"/></button><br>
			Suction gauge pressure <em>(kPa)</em><br>
			<input type=number/>
			<button onclick=showUnit(this,'#unit_kPa')><i class="fa fa-calculator"/></button><br>
			Discharge gauge pressure <em>(kPa)</em><br>
			<input type=number/>
			<button onclick=showUnit(this,'#unit_kPa')><i class="fa fa-calculator"/></button><br>
			Suction gauge elevation <em>(m)</em><br>
			<input type=number/>
			<button onclick=showUnit(this,'#unit_m')><i class="fa fa-calculator"/></button><br>
			Discharge gauge elevation <em>(m)</em><br>
			<input type=number/>
			<button onclick=showUnit(this,'#unit_m')><i class="fa fa-calculator"/></button><br>
			Suction line loss coefficients<br>
			<input type=number/><br>
			Discharge line loss coefficients<br>
			<input type=number/><br>
			Fluid specific gravity<br>
			<input type=number/><br>
			Flow rate <em>(L/s)</em><br>
			<input style='margin-bottom: 0' type=number/>
			<button onclick=showUnit(this,'#unit_flow')><i class="fa fa-calculator"/></button>				
		</td>
		<td class=results>
			<table>
				<tr>
					<th>Head</th>
					<th>Result <em>(m)</em></th>
				</tr>
				<tr>
					<td>Differential elevation head</td>
					<td>0</td>
				</tr>
				<tr>
					<td>Differential pressure head</td>
					<td>12.16</td>
				</tr>
				<tr>
					<td>Differential velocity head</td>
					<td>17792</td>
				</tr>
				<tr>
					<td>Estimated suction friction head</td>
					<td>72144.50</td>
				</tr>
				<tr>
					<td>Estimated discharge friction head</td>
					<td>62080</td>
				</tr>
				<tr>
					<td>Pump head</td>
					<td class=result>52028</td>
				</tr>				
			</table>
		</td>
	</tr>
	<tr>
		<td/>
		<td>
			<button onclick='Back()'>ACCEPT</button>
			<button onclick='Back()'>CANCEL</button>
		</td>
	</tr>
</table>
			

<dialog id=unit_mm>
  Enter value in inches<br>
  <input><br>
  <button onclick='this.parentElement.close()'>CANCEL</button>
  <button onclick='unitMM()'>CONVERT</button> 
</dialog>
<dialog id=unit_m>
  Enter value in meters<br>
  <input><br>
  <button onclick='this.parentElement.close()'>CANCEL</button>
  <button onclick='unit_m()'>CONVERT</button> 
</dialog>
<dialog id=unit_kPa>
  Enter value in pounds per square inch <em>(psig)</em><br>
  <input><br>
  <button onclick='this.parentElement.close()'>CANCEL</button>
  <button onclick='unit_kPa()'>CONVERT</button> 
</dialog>
<dialog id=unit_flow>
  Choose units<br>
  <label>
    <input name=units value=.0630901966667 type="radio" checked> gpm
  </label><br>
  <label>
    <input name=units value=43.8126364 type="radio"> MGD
  </label><br>
  <label>
    <input name=units value=0.277778 type="radio"> m^3/hr
  </label><br>
  <br>
  Enter value<br>
  <input>
  <p/>
  <button onclick='this.parentElement.close()'>CANCEL</button>
  <button onclick='unitFlow()'>CONVERT</button> 
</dialog>

<script>
	function showUnit(e,sel) {
	    const dlg = $(sel);
	    dlg.find('input:not([type=radio])').val('');
	    dlg[0].showModal();
	    dlg.data('src',$(e));
	}
	function unitMM() {
	    const dlg = $('#unit_mm');
	    dlg.data('src').prev().val(Math.round(dlg.find('input').val()*25.4*10000)/10000);
	    dlg[0].close();
	}
	function unit_kPa() {
	    const dlg = $('#unit_kPa');
	    dlg.data('src').prev().val(Math.round(dlg.find('input').val()*6.89476*10000)/10000);
	    dlg[0].close();
	}
	function unit_m() {
	    const dlg = $('#unit_flow');
	    dlg.data('src').prev().val(Math.round(dlg.find('input').val()*.3048*10000)/10000);
	    dlg[0].close();
	}
	function unitFlow() {
	    const dlg = $('#unit_flow')
	    dlg.data('src').prev().val(Math.round(dlg.find('input:not([type=radio])').val()*dlg.find(':checked').val()*10000)/10000);
	    dlg[0].close();
  	}

</script>
